{"version":3,"file":null,"sources":["/home/cbasler/Documents/workspace/jotted/src/util.js","/home/cbasler/Documents/workspace/jotted/src/template.js","/home/cbasler/Documents/workspace/jotted/src/plugin.js","/home/cbasler/Documents/workspace/jotted/src/pubsoup.js","/home/cbasler/Documents/workspace/jotted/src/plugins/render.js","/home/cbasler/Documents/workspace/jotted/src/plugins/scriptless.js","/home/cbasler/Documents/workspace/jotted/src/plugins/ace.js","/home/cbasler/Documents/workspace/jotted/src/plugins/codemirror.js","/home/cbasler/Documents/workspace/jotted/src/plugins/less.js","/home/cbasler/Documents/workspace/jotted/src/plugins/coffeescript.js","/home/cbasler/Documents/workspace/jotted/src/plugins/stylus.js","/home/cbasler/Documents/workspace/jotted/src/plugins/babel.js","/home/cbasler/Documents/workspace/jotted/src/plugins/markdown.js","/home/cbasler/Documents/workspace/jotted/src/plugins/console.js","/home/cbasler/Documents/workspace/jotted/src/plugins/play.js","/home/cbasler/Documents/workspace/jotted/src/bundle-plugins.js","/home/cbasler/Documents/workspace/jotted/src/core.js"],"sourcesContent":["/* util\n */\n\nfunction extend (obj = {}, defaults = {}) {\n  var extended = {}\n  // clone object\n  Object.keys(obj).forEach(function (key) {\n    extended[key] = obj[key]\n  })\n\n  // copy default keys where undefined\n  Object.keys(defaults).forEach(function (key) {\n    if (typeof extended[key] !== 'undefined') {\n      extended[key] = obj[key]\n    } else {\n      extended[key] = defaults[key]\n    }\n  })\n\n  return extended\n}\n\nfunction fetch (url, callback) {\n  var xhr = new window.XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'text'\n\n  xhr.onload = function () {\n    if (xhr.status === 200) {\n      callback(null, xhr.responseText)\n    } else {\n      callback(url, xhr)\n    }\n  }\n\n  xhr.onerror = function (err) {\n    callback(err)\n  }\n\n  xhr.send()\n}\n\nfunction runCallback (index, params, arr, errors, callback) {\n  return function (err, res) {\n    if (err) {\n      errors.push(err)\n    }\n\n    index++\n    if (index === arr.length) {\n      callback(errors, res)\n    } else {\n      seqRunner(index, res, arr, errors, callback)\n    }\n  }\n}\n\nfunction seqRunner (index, params, arr, errors, callback) {\n  // async\n  arr[index](params, runCallback.apply(this, arguments))\n}\n\nfunction seq (arr, params, callback = function () {}) {\n  var errors = []\n\n  if (!arr.length) {\n    return callback(errors, params)\n  }\n\n  seqRunner(0, params, arr, errors, callback)\n}\n\nfunction debounce (fn, delay) {\n  var cooldown = null\n  var multiple = null\n  return function () {\n    if (cooldown) {\n      multiple = true\n    } else {\n      fn.apply(this, arguments)\n    }\n\n    clearTimeout(cooldown)\n\n    cooldown = setTimeout(() => {\n      if (multiple) {\n        fn.apply(this, arguments)\n      }\n\n      cooldown = null\n      multiple = null\n    }, delay)\n  }\n}\n\nfunction log () {\n  console.log(arguments)\n}\n\nfunction hasClass (node, className) {\n  if (!node.className) {\n    return false\n  }\n  var tempClass = ' ' + node.className + ' '\n  className = ' ' + className + ' '\n\n  if (tempClass.indexOf(className) !== -1) {\n    return true\n  }\n\n  return false\n}\n\nfunction addClass (node, className) {\n  // class is already added\n  if (hasClass(node, className)) {\n    return node.className\n  }\n\n  if (node.className) {\n    className = ' ' + className\n  }\n\n  node.className += className\n\n  return node.className\n}\n\nfunction removeClass (node, className) {\n  var spaceBefore = ' ' + className\n  var spaceAfter = className + ' '\n\n  if (node.className.indexOf(spaceBefore) !== -1) {\n    node.className = node.className.replace(spaceBefore, '')\n  } else if (node.className.indexOf(spaceAfter) !== -1) {\n    node.className = node.className.replace(spaceAfter, '')\n  } else {\n    node.className = node.className.replace(className, '')\n  }\n\n  return node.className\n}\n\nfunction data (node, attr) {\n  return node.getAttribute('data-' + attr)\n}\n\n// mode detection based on content type and file extension\nvar defaultModemap = {\n  'html': 'html',\n  'css': 'css',\n  'js': 'javascript',\n  'less': 'less',\n  'styl': 'stylus',\n  'coffee': 'coffeescript'\n}\n\nfunction getMode (type = '', file = '', customModemap = {}) {\n  var modemap = extend(customModemap, defaultModemap)\n\n  // try the file extension\n  for (let key in modemap) {\n    let keyLength = key.length\n    if (file.slice(-keyLength++) === '.' + key) {\n      return modemap[key]\n    }\n  }\n\n  // try the file type (html/css/js)\n  for (let key in modemap) {\n    if (type === key) {\n      return modemap[key]\n    }\n  }\n\n  return type\n}\n\nexport {\n  extend,\n  fetch,\n  seq,\n  debounce,\n  log,\n  getMode,\n\n  data,\n  hasClass,\n  addClass,\n  removeClass\n}\n","/* template\n */\n\nexport function container () {\n  return `\n    <ul class=\"jotted-nav\">\n      <li class=\"jotted-nav-item jotted-nav-item-result\">\n        <a href=\"#\" data-jotted-type=\"result\">\n          Result\n        </a>\n      </li>\n      <li class=\"jotted-nav-item jotted-nav-item-html\">\n        <a href=\"#\" data-jotted-type=\"html\">\n          HTML\n        </a>\n      </li>\n      <li class=\"jotted-nav-item jotted-nav-item-css\">\n        <a href=\"#\" data-jotted-type=\"css\">\n          CSS\n        </a>\n      </li>\n      <li class=\"jotted-nav-item jotted-nav-item-js\">\n        <a href=\"#\" data-jotted-type=\"js\">\n          JavaScript\n        </a>\n      </li>\n    </ul>\n    <div class=\"jotted-pane jotted-pane-result\"><iframe></iframe></div>\n    <div class=\"jotted-pane jotted-pane-html\"></div>\n    <div class=\"jotted-pane jotted-pane-css\"></div>\n    <div class=\"jotted-pane jotted-pane-js\"></div>\n  `\n}\n\nexport function paneActiveClass (type) {\n  return `jotted-pane-active-${type}`\n}\n\nexport function containerClass () {\n  return `jotted`\n}\n\nexport function hasFileClass (type) {\n  return `jotted-has-${type}`\n}\n\nexport function editorClass (type) {\n  return `jotted-editor jotted-editor-${type}`\n}\n\nexport function editorContent (type, fileUrl = '') {\n  return `\n    <textarea data-jotted-type=\"${type}\" data-jotted-file=\"${fileUrl}\"></textarea>\n    <div class=\"jotted-status\"></div>\n  `\n}\n\nexport function statusMessage (err) {\n  return `\n    <p>${err}</p>\n  `\n}\n\nexport function statusClass (type) {\n  return `jotted-status-${type}`\n}\n\nexport function statusActiveClass (type) {\n  return `jotted-status-active-${type}`\n}\n\nexport function pluginClass (name) {\n  return `jotted-plugin-${name}`\n}\n\nexport function statusLoading (url) {\n  return `Loading <strong>${url}</strong>..`\n}\n\nexport function statusFetchError (url) {\n  return `There was an error loading <strong>${url}</strong>.`\n}\n","/* plugin\n */\n\nimport * as util from './util.js'\nimport * as template from './template.js'\n\nvar plugins = []\n\nfunction find (id) {\n  for (let pluginIndex in plugins) {\n    let plugin = plugins[pluginIndex]\n    if (plugin._id === id) {\n      return plugin\n    }\n  }\n\n  // can't find plugin\n  throw new Error(`Plugin ${id} is not registered.`)\n}\n\nfunction register (id, plugin) {\n  // private properties\n  plugin._id = id\n  plugins.push(plugin)\n}\n\n// create a new instance of each plugin, on the jotted instance\nfunction init () {\n  this._get('options').plugins.forEach((plugin) => {\n    // check if plugin definition is string or object\n    let Plugin\n    let pluginName\n    let pluginOptions = {}\n    if (typeof plugin === 'string') {\n      pluginName = plugin\n    } else if (typeof plugin === 'object') {\n      pluginName = plugin.name\n      pluginOptions = plugin.options || {}\n    }\n\n    Plugin = find(pluginName)\n    this._get('plugins')[plugin] = new Plugin(this, pluginOptions)\n\n    util.addClass(this._get('$container'), template.pluginClass(pluginName))\n  })\n}\n\nexport {\n  register,\n  init\n}\n","/* pubsoup\n */\n\nimport * as util from './util.js'\n\nexport default class PubSoup {\n  constructor () {\n    this.topics = {}\n    this.callbacks = {}\n  }\n\n  find (query) {\n    this.topics[query] = this.topics[query] || []\n    return this.topics[query]\n  }\n\n  subscribe (topic, subscriber, priority = 90) {\n    var foundTopic = this.find(topic)\n    subscriber._priority = priority\n    foundTopic.push(subscriber)\n\n    // sort subscribers on priority\n    foundTopic.sort(function (a, b) {\n      return (a._priority > b._priority) ? 1 : ((b._priority > a._priority) ? -1 : 0)\n    })\n  }\n\n  // removes a function from an array\n  remover (arr, fn) {\n    arr.forEach(function () {\n      // if no fn is specified\n      // clean-up the array\n      if (!fn) {\n        arr.length = 0\n        return\n      }\n\n      // find the fn in the arr\n      var index = [].indexOf.call(arr, fn)\n\n      // we didn't find it in the array\n      if (index === -1) {\n        return\n      }\n\n      arr.splice(index, 1)\n    })\n  }\n\n  unsubscribe (topic, subscriber) {\n    // remove from subscribers\n    var foundTopic = this.find(topic)\n    this.remover(foundTopic, subscriber)\n\n    // remove from callbacks\n    this.callbacks[topic] = this.callbacks[topic] || []\n    this.remover(this.callbacks[topic], subscriber)\n  }\n\n  // sequentially runs a method on all plugins\n  publish (topic, params = {}) {\n    var foundTopic = this.find(topic)\n    var runList = []\n\n    foundTopic.forEach(function (subscriber) {\n      runList.push(subscriber)\n    })\n\n    util.seq(runList, params, this.runCallbacks(topic))\n  }\n\n  // parallel run all .done callbacks\n  runCallbacks (topic) {\n    var pub = this\n    return function () {\n      pub.callbacks[topic] = pub.callbacks[topic] || []\n\n      pub.callbacks[topic].forEach((c) => {\n        c.apply(this, arguments)\n      })\n    }\n  }\n\n  // attach a callback when a publish[topic] is done\n  done (topic, callback = function () {}) {\n    this.callbacks[topic] = this.callbacks[topic] || []\n    this.callbacks[topic].push(callback)\n  }\n}\n","/* render plugin\n * renders the iframe\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginRender {\n  constructor (jotted, options) {\n    options = util.extend(options, {})\n\n    // iframe srcdoc support\n    var supportSrcdoc = !!('srcdoc' in document.createElement('iframe'))\n    var $resultFrame = jotted.$container.querySelector('.jotted-pane-result iframe')\n\n    var frameContent = ''\n    var latestCallback = function () {}\n\n    // cached content\n    var content = {\n      html: '',\n      css: '',\n      js: ''\n    }\n\n    // catch domready events from the iframe\n    window.addEventListener('message', this.domready.bind(this))\n\n    // render on each change\n    jotted.on('change', this.change.bind(this), 100)\n\n    // public\n    this.supportSrcdoc = supportSrcdoc\n    this.latestCallback = latestCallback\n    this.content = content\n    this.frameContent = frameContent\n    this.$resultFrame = $resultFrame\n  }\n\n  template (style = '', body = '', script = '') {\n    return `\n      <!doctype html>\n      <html>\n        <head>\n          <script>\n            (function () {\n              window.addEventListener('DOMContentLoaded', function () {\n                window.parent.postMessage(JSON.stringify({\n                  type: 'jotted-dom-ready'\n                }), '*')\n              })\n            }())\n          </script>\n\n          <style>${style}</style>\n        </head>\n        <body>\n          ${body}\n\n          <!--\n            Jotted:\n            Empty script tag prevents malformed HTML from breaking the next script.\n          -->\n          <script></script>\n          <script>${script}</script>\n        </body>\n      </html>\n    `\n  }\n\n  change (params, callback) {\n    // cache manipulated content\n    this.content[params.type] = params.content\n\n    // check existing and to-be-rendered content\n    var oldFrameContent = this.frameContent\n    this.frameContent = this.template(this.content['css'], this.content['html'], this.content['js'])\n\n    // don't render if previous and new frame content are the same.\n    // mostly for the `play` plugin,\n    // so we don't re-render the same content on each change.\n    // unless we set forceRender.\n    if (params.forceRender !== true && this.frameContent === oldFrameContent) {\n      callback(null, params)\n      return\n    }\n\n    // cache the current callback as a global,\n    // so we can call it from the message callback.\n    this.latestCallback = function () {\n      callback(null, params)\n    }\n\n    this.$resultFrame.setAttribute('srcdoc', this.frameContent)\n\n    // older browsers without iframe srcset support (IE9)\n    if (!this.supportSrcdoc) {\n      // tips from https://github.com/jugglinmike/srcdoc-polyfill\n      // Copyright (c) 2012 Mike Pennisi\n      // Licensed under the MIT license.\n      var jsUrl = 'javascript:window.frameElement.getAttribute(\"srcdoc\");'\n\n      this.$resultFrame.setAttribute('src', jsUrl)\n\n      // Explicitly set the iFrame's window.location for\n      // compatibility with IE9, which does not react to changes in\n      // the `src` attribute when it is a `javascript:` URL.\n      if (this.$resultFrame.contentWindow) {\n        this.$resultFrame.contentWindow.location = jsUrl\n      }\n    }\n  }\n\n  domready (e) {\n    // only catch messages from the iframe\n    if (e.source !== this.$resultFrame.contentWindow) {\n      return\n    }\n\n    var data = JSON.parse(e.data)\n    if (data.type === 'jotted-dom-ready') {\n      this.latestCallback()\n    }\n  }\n}\n","/* scriptless plugin\n * removes script tags from html content\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginScriptless {\n  constructor (jotted, options) {\n    options = util.extend(options, {})\n\n    // https://html.spec.whatwg.org/multipage/scripting.html\n    var runScriptTypes = [\n      'application/javascript',\n      'application/ecmascript',\n      'application/x-ecmascript',\n      'application/x-javascript',\n      'text/ecmascript',\n      'text/javascript',\n      'text/javascript1.0',\n      'text/javascript1.1',\n      'text/javascript1.2',\n      'text/javascript1.3',\n      'text/javascript1.4',\n      'text/javascript1.5',\n      'text/jscript',\n      'text/livescript',\n      'text/x-ecmascript',\n      'text/x-javascript'\n    ]\n\n    // remove script tags on each change\n    jotted.on('change', this.change.bind(this))\n\n    // public\n    this.runScriptTypes = runScriptTypes\n  }\n\n  change (params, callback) {\n    if (params.type !== 'html') {\n      return callback(null, params)\n    }\n\n    // for IE9 support, remove the script tags from HTML content.\n    // when we stop supporting IE9, we can use the sandbox attribute.\n    var fragment = document.createElement('div')\n    fragment.innerHTML = params.content\n\n    var typeAttr = null\n\n    // remove all script tags\n    var $scripts = fragment.querySelectorAll('script')\n    for (let i = 0; i < $scripts.length; i++) {\n      typeAttr = $scripts[i].getAttribute('type')\n\n      // only remove script tags without the type attribute\n      // or with a javascript mime attribute value.\n      // the ones that are run by the browser.\n      if (!typeAttr || this.runScriptTypes.indexOf(typeAttr) !== -1) {\n        $scripts[i].parentNode.removeChild($scripts[i])\n      }\n    }\n\n    params.content = fragment.innerHTML\n\n    callback(null, params)\n  }\n}\n","/* ace plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginAce {\n  constructor (jotted, options) {\n    var priority = 1\n    var i\n\n    this.editor = {}\n    this.jotted = jotted\n\n    options = util.extend(options, {})\n\n    // check if Ace is loaded\n    if (typeof window.ace === 'undefined') {\n      return\n    }\n\n    var $editors = jotted.$container.querySelectorAll('.jotted-editor')\n\n    for (i = 0; i < $editors.length; i++) {\n      let $textarea = $editors[i].querySelector('textarea')\n      let type = util.data($textarea, 'jotted-type')\n      let file = util.data($textarea, 'jotted-file')\n\n      let $aceContainer = document.createElement('div')\n      $editors[i].appendChild($aceContainer)\n\n      this.editor[type] = window.ace.edit($aceContainer)\n      let editor = this.editor[type]\n\n      let editorOptions = util.extend(options)\n\n      editor.getSession().setMode('ace/mode/' + util.getMode(type, file))\n      editor.getSession().setOptions(editorOptions)\n\n      editor.$blockScrolling = Infinity\n    }\n\n    jotted.on('change', this.change.bind(this), priority)\n  }\n\n  editorChange (params) {\n    return () => {\n      this.jotted.trigger('change', params)\n    }\n  }\n\n  change (params, callback) {\n    var editor = this.editor[params.type]\n\n    // if the event is not started by the ace change.\n    // triggered only once per editor,\n    // when the textarea is populated/file is loaded.\n    if (!params.aceEditor) {\n      editor.getSession().setValue(params.content)\n\n      // attach the event only after the file is loaded\n      params.aceEditor = editor\n      editor.on('change', this.editorChange(params))\n    }\n\n    // manipulate the params and pass them on\n    params.content = editor.getValue()\n    callback(null, params)\n  }\n}\n","/* coremirror plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginCodeMirror {\n  constructor (jotted, options) {\n    var priority = 1\n    var i\n\n    this.editor = {}\n    this.jotted = jotted\n\n    // custom modemap for codemirror\n    var modemap = {\n      'html': 'htmlmixed'\n    }\n\n    options = util.extend(options, {\n      lineNumbers: true\n    })\n\n    // check if CodeMirror is loaded\n    if (typeof window.CodeMirror === 'undefined') {\n      return\n    }\n\n    var $editors = jotted.$container.querySelectorAll('.jotted-editor')\n\n    for (i = 0; i < $editors.length; i++) {\n      let $textarea = $editors[i].querySelector('textarea')\n      let type = util.data($textarea, 'jotted-type')\n      let file = util.data($textarea, 'jotted-file')\n\n      this.editor[type] = window.CodeMirror.fromTextArea($textarea, options)\n      this.editor[type].setOption('mode', util.getMode(type, file, modemap))\n    }\n\n    jotted.on('change', this.change.bind(this), priority)\n  }\n\n  editorChange (params) {\n    return () => {\n      // trigger a change event\n      this.jotted.trigger('change', params)\n    }\n  }\n\n  change (params, callback) {\n    var editor = this.editor[params.type]\n\n    // if the event is not started by the codemirror change.\n    // triggered only once per editor,\n    // when the textarea is populated/file is loaded.\n    if (!params.cmEditor) {\n      editor.setValue(params.content)\n\n      // attach the event only after the file is loaded\n      params.cmEditor = editor\n      editor.on('change', this.editorChange(params))\n    }\n\n    // manipulate the params and pass them on\n    params.content = editor.getValue()\n    callback(null, params)\n  }\n}\n","/* less plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginLess {\n  constructor (jotted, options) {\n    var priority = 20\n\n    options = util.extend(options, {})\n\n    // check if less is loaded\n    if (typeof window.less === 'undefined') {\n      return\n    }\n\n    // change CSS link label to Less\n    jotted.$container.querySelector('a[data-jotted-type=\"css\"]').innerHTML = 'Less'\n\n    jotted.on('change', this.change.bind(this), priority)\n  }\n\n  isLess (params) {\n    if (params.type !== 'css') {\n      return false\n    }\n\n    return (params.file.indexOf('.less') !== -1 || params.file === '')\n  }\n\n  change (params, callback) {\n    // only parse .less and blank files\n    if (this.isLess(params)) {\n      window.less.render(params.content, this.options, (err, res) => {\n        if (err) {\n          return callback(err, params)\n        } else {\n          // replace the content with the parsed less\n          params.content = res.css\n        }\n\n        callback(null, params)\n      })\n    } else {\n      // make sure we callback either way,\n      // to not break the pubsoup\n      callback(null, params)\n    }\n  }\n}\n","/* coffeescript plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginCoffeeScript {\n  constructor (jotted, options) {\n    var priority = 20\n\n    options = util.extend(options, {})\n\n    // check if coffeescript is loaded\n    if (typeof window.CoffeeScript === 'undefined') {\n      return\n    }\n\n    // change JS link label to Less\n    jotted.$container.querySelector('a[data-jotted-type=\"js\"]').innerHTML = 'CoffeeScript'\n\n    jotted.on('change', this.change.bind(this), priority)\n  }\n\n  isCoffee (params) {\n    if (params.type !== 'js') {\n      return false\n    }\n\n    return (params.file.indexOf('.coffee') !== -1 || params.file === '')\n  }\n\n  change (params, callback) {\n    // only parse .less and blank files\n    if (this.isCoffee(params)) {\n      try {\n        params.content = window.CoffeeScript.compile(params.content)\n      } catch (err) {\n        return callback(err, params)\n      }\n    }\n\n    callback(null, params)\n  }\n}\n","/* stylus plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginStylus {\n  constructor (jotted, options) {\n    var priority = 20\n\n    options = util.extend(options, {})\n\n    // check if stylus is loaded\n    if (typeof window.stylus === 'undefined') {\n      return\n    }\n\n    // change CSS link label to Stylus\n    jotted.$container.querySelector('a[data-jotted-type=\"css\"]').innerHTML = 'Stylus'\n\n    jotted.on('change', this.change.bind(this), priority)\n  }\n\n  isStylus (params) {\n    if (params.type !== 'css') {\n      return false\n    }\n\n    return (params.file.indexOf('.styl') !== -1 || params.file === '')\n  }\n\n  change (params, callback) {\n    // only parse .styl and blank files\n    if (this.isStylus(params)) {\n      window.stylus(params.content, this.options).render((err, res) => {\n        if (err) {\n          return callback(err, params)\n        } else {\n          // replace the content with the parsed less\n          params.content = res\n        }\n\n        callback(null, params)\n      })\n    } else {\n      // make sure we callback either way,\n      // to not break the pubsoup\n      callback(null, params)\n    }\n  }\n}\n","/* babel plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginBabel {\n  constructor (jotted, options) {\n    var priority = 20\n\n    this.options = util.extend(options, {})\n\n    // check if babel is loaded\n    if (typeof window.Babel !== 'undefined') {\n      // using babel-standalone\n      this.babel = window.Babel\n    } else if (typeof window.babel !== 'undefined') {\n      // using browser.js from babel-core 5.x\n      this.babel = {\n        transform: window.babel\n      }\n    } else {\n      return\n    }\n\n    // change js link label\n    jotted.$container.querySelector('a[data-jotted-type=\"js\"]').innerHTML = 'ES2015'\n\n    jotted.on('change', this.change.bind(this), priority)\n  }\n\n  change (params, callback) {\n    // only parse js content\n    if (params.type === 'js') {\n      try {\n        params.content = this.babel.transform(params.content, this.options).code\n      } catch (err) {\n        return callback(err, params)\n      }\n\n      callback(null, params)\n    } else {\n      // make sure we callback either way,\n      // to not break the pubsoup\n      callback(null, params)\n    }\n  }\n}\n","/* markdown plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginMarkdown {\n  constructor (jotted, options) {\n    var priority = 20\n\n    this.options = util.extend(options, {})\n\n    // check if marked is loaded\n    if (typeof window.marked === 'undefined') {\n      return\n    }\n\n    window.marked.setOptions(options)\n\n    // change html link label\n    jotted.$container.querySelector('a[data-jotted-type=\"html\"]').innerHTML = 'Markdown'\n\n    jotted.on('change', this.change.bind(this), priority)\n  }\n\n  change (params, callback) {\n    // only parse html content\n    if (params.type === 'html') {\n      try {\n        params.content = window.marked(params.content)\n      } catch (err) {\n        return callback(err, params)\n      }\n\n      callback(null, params)\n    } else {\n      // make sure we callback either way,\n      // to not break the pubsoup\n      callback(null, params)\n    }\n  }\n}\n","/* console plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginConsole {\n  constructor (jotted, options) {\n    options = util.extend(options, {\n      autoClear: false\n    })\n\n    var priority = 30\n    var history = []\n    var historyIndex = 0\n    var logCaptureSnippet = `(${this.capture.toString()})();`\n    var contentCache = {\n      html: '',\n      css: '',\n      js: ''\n    }\n\n    var $iframe = jotted.$container.querySelector('.jotted-pane-result iframe')\n\n    // new tab and pane markup\n    var $nav = document.createElement('li')\n    util.addClass($nav, 'jotted-nav-item jotted-nav-item-console')\n    $nav.innerHTML = '<a href=\"#\" data-jotted-type=\"console\">JS Console</a>'\n\n    var $pane = document.createElement('div')\n    util.addClass($pane, 'jotted-pane jotted-pane-console')\n\n    $pane.innerHTML = `\n      <div class=\"jotted-console-container\">\n        <ul class=\"jotted-console-output\"></ul>\n        <form class=\"jotted-console-input\">\n          <input type=\"text\">\n        </form>\n      </div>\n      <button class=\"jotted-button jotted-console-clear\">Clear</button>\n    `\n\n    jotted.$container.appendChild($pane)\n    jotted.$container.querySelector('.jotted-nav').appendChild($nav)\n\n    var $container = jotted.$container.querySelector('.jotted-console-container')\n    var $output = jotted.$container.querySelector('.jotted-console-output')\n    var $input = jotted.$container.querySelector('.jotted-console-input input')\n    var $inputForm = jotted.$container.querySelector('.jotted-console-input')\n    var $clear = jotted.$container.querySelector('.jotted-console-clear')\n\n    // submit the input form\n    $inputForm.addEventListener('submit', this.submit.bind(this))\n\n    // console history\n    $input.addEventListener('keydown', this.history.bind(this))\n\n    // clear button\n    $clear.addEventListener('click', this.clear.bind(this))\n\n    // clear the console on each change\n    if (options.autoClear === true) {\n      jotted.on('change', this.autoClear.bind(this), priority - 1)\n    }\n\n    // capture the console on each change\n    jotted.on('change', this.change.bind(this), priority)\n\n    // get log events from the iframe\n    window.addEventListener('message', this.getMessage.bind(this))\n\n    // plugin public properties\n    this.$container = $container\n    this.$input = $input\n    this.$output = $output\n    this.$iframe = $iframe\n    this.history = history\n    this.historyIndex = historyIndex\n    this.logCaptureSnippet = logCaptureSnippet\n    this.contentCache = contentCache\n  }\n\n  getMessage (e) {\n    // only catch messages from the iframe\n    if (e.source !== this.$iframe.contentWindow) {\n      return\n    }\n\n    var data = JSON.parse(e.data)\n    if (data.type === 'jotted-console-log') {\n      this.log(data.message)\n    }\n  }\n\n  autoClear (params, callback) {\n    var snippetlessContent = params.content\n\n    // remove the snippet from cached js content\n    if (params.type === 'js') {\n      snippetlessContent = snippetlessContent.replace(this.logCaptureSnippet, '')\n    }\n\n    // for compatibility with the Play plugin,\n    // clear the console only if something has changed or force rendering.\n    if (params.forceRender === true || this.contentCache[params.type] !== snippetlessContent) {\n      this.clear()\n    }\n\n    // always cache the latest content\n    this.contentCache[params.type] = snippetlessContent\n\n    callback(null, params)\n  }\n\n  change (params, callback) {\n    // only parse js content\n    if (params.type !== 'js') {\n      // make sure we callback either way,\n      // to not break the pubsoup\n      return callback(null, params)\n    }\n\n    // check if the snippet is already added.\n    // the Play plugin caches the changed params and triggers change\n    // with the cached response, causing the snippet to be inserted\n    // multiple times, on each trigger.\n    if (params.content.indexOf(this.logCaptureSnippet) === -1) {\n      params.content = `${this.logCaptureSnippet}${params.content}`\n    }\n\n    callback(null, params)\n  }\n\n  // capture the console.log output\n  capture () {\n    // IE9 with devtools closed\n    if (typeof window.console === 'undefined' || typeof window.console.log === 'undefined') {\n      window.console = {\n        log: function () {}\n      }\n    }\n\n    // for IE9 support\n    var oldConsoleLog = Function.prototype.bind.call(window.console.log, window.console)\n\n    window.console.log = function () {\n      // send log messages to the parent window\n      [].slice.call(arguments).forEach(function (message) {\n        window.parent.postMessage(JSON.stringify({\n          type: 'jotted-console-log',\n          message: message\n        }), '*')\n      })\n\n      // in IE9, console.log is object instead of function\n      // https://connect.microsoft.com/IE/feedback/details/585896/console-log-typeof-is-object-instead-of-function\n      oldConsoleLog.apply(oldConsoleLog, arguments)\n    }\n  }\n\n  log (message = '', type) {\n    var $log = document.createElement('li')\n    util.addClass($log, 'jotted-console-log')\n\n    if (typeof type !== 'undefined') {\n      util.addClass($log, `jotted-console-log-${type}`)\n    }\n\n    $log.innerHTML = message\n\n    this.$output.appendChild($log)\n  }\n\n  submit (e) {\n    var inputValue = this.$input.value.trim()\n\n    // if input is blank, do nothing\n    if (inputValue === '') {\n      return e.preventDefault()\n    }\n\n    // add run to history\n    this.history.push(inputValue)\n    this.historyIndex = this.history.length\n\n    // log input value\n    this.log(inputValue, 'history')\n\n    // add return if it doesn't start with it\n    if (inputValue.indexOf('return') !== 0) {\n      inputValue = 'return ' + inputValue\n    }\n\n    // show output or errors\n    try {\n      // run the console input in the iframe context\n      var scriptOutput = this.$iframe.contentWindow.eval(`(function() {${inputValue}})()`)\n\n      this.log(scriptOutput)\n    } catch (err) {\n      this.log(err, 'error')\n    }\n\n    // clear the console value\n    this.$input.value = ''\n\n    // scroll console pane to bottom\n    // to keep the input into view\n    this.$container.scrollTop = this.$container.scrollHeight\n\n    e.preventDefault()\n  }\n\n  clear () {\n    this.$output.innerHTML = ''\n  }\n\n  history (e) {\n    var UP = 38\n    var DOWN = 40\n    var gotHistory = false\n    var selectionStart = this.$input.selectionStart\n\n    // only if we have previous history\n    // and the cursor is at the start\n    if (e.keyCode === UP && this.historyIndex !== 0 && selectionStart === 0) {\n      this.historyIndex--\n      gotHistory = true\n    }\n\n    // only if we have future history\n    // and the cursor is at the end\n    if (e.keyCode === DOWN && this.historyIndex !== this.history.length - 1 && selectionStart === this.$input.value.length) {\n      this.historyIndex++\n      gotHistory = true\n    }\n\n    // only if history changed\n    if (gotHistory) {\n      this.$input.value = this.history[this.historyIndex]\n    }\n  }\n}\n","/* play plugin\n * adds a Run button\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginPlay {\n  constructor (jotted, options) {\n    options = util.extend(options, {\n      firstRun: true\n    })\n\n    var priority = 10\n    // cached code\n    var cache = {}\n    // latest version of the code.\n    // replaces the cache when the run button is pressed.\n    var code = {}\n\n    // set firstRun=false to start with a blank preview.\n    // run the real content only after the first Run button press.\n    if (options.firstRun === false) {\n      cache = {\n        html: {\n          type: 'html',\n          content: ''\n        },\n        css: {\n          type: 'css',\n          content: ''\n        },\n        js: {\n          type: 'js',\n          content: ''\n        }\n      }\n    }\n\n    // run button\n    var $button = document.createElement('button')\n    $button.className = 'jotted-button jotted-button-play'\n    $button.innerHTML = 'Run'\n\n    jotted.$container.appendChild($button)\n    $button.addEventListener('click', this.run.bind(this))\n\n    // capture the code on each change\n    jotted.on('change', this.change.bind(this), priority)\n\n    // public\n    this.cache = cache\n    this.code = code\n    this.jotted = jotted\n  }\n\n  change (params, callback) {\n    // always cache the latest code\n    this.code[params.type] = util.extend(params)\n\n    // replace the params with the latest cache\n    if (typeof this.cache[params.type] !== 'undefined') {\n      callback(null, this.cache[params.type])\n\n      // make sure we don't cache forceRender,\n      // and send it with each change.\n      this.cache[params.type].forceRender = null\n    } else {\n      // cache the first run\n      this.cache[params.type] = util.extend(params)\n\n      callback(null, params)\n    }\n  }\n\n  run () {\n    // trigger change on each type with the latest code\n    for (let type in this.code) {\n      this.cache[type] = util.extend(this.code[type], {\n        // force rendering on each Run press\n        forceRender: true\n      })\n\n      // trigger the change\n      this.jotted.trigger('change', this.cache[type])\n    }\n  }\n}\n","/* bundle plugins\n */\n\n// register bundled plugins\nimport PluginRender from './plugins/render.js'\nimport PluginScriptless from './plugins/scriptless.js'\n\nimport PluginAce from './plugins/ace.js'\nimport PluginCodeMirror from './plugins/codemirror.js'\nimport PluginLess from './plugins/less.js'\nimport PluginCoffeeScript from './plugins/coffeescript.js'\nimport PluginStylus from './plugins/stylus.js'\nimport PluginBabel from './plugins/babel.js'\nimport PluginMarkdown from './plugins/markdown.js'\nimport PluginConsole from './plugins/console.js'\nimport PluginPlay from './plugins/play.js'\n\nexport default function BundlePlugins (jotted) {\n  jotted.plugin('render', PluginRender)\n  jotted.plugin('scriptless', PluginScriptless)\n\n  jotted.plugin('ace', PluginAce)\n  jotted.plugin('codemirror', PluginCodeMirror)\n  jotted.plugin('less', PluginLess)\n  jotted.plugin('coffeescript', PluginCoffeeScript)\n  jotted.plugin('stylus', PluginStylus)\n  jotted.plugin('babel', PluginBabel)\n  jotted.plugin('markdown', PluginMarkdown)\n  jotted.plugin('console', PluginConsole)\n  jotted.plugin('play', PluginPlay)\n}\n","/* jotted\n */\n\nimport * as util from './util.js'\nimport * as template from './template.js'\nimport * as plugin from './plugin.js'\nimport PubSoup from './pubsoup.js'\n\nclass Jotted {\n  constructor ($jottedContainer, opts) {\n    if (!$jottedContainer) {\n      throw new Error('Can\\'t find Jotted container.')\n    }\n\n    // private data\n    var _private = {}\n    this._get = function (key) {\n      return _private[key]\n    }\n    this._set = function (key, value) {\n      _private[key] = value\n      return _private[key]\n    }\n\n    // options\n    var options = this._set('options', util.extend(opts, {\n      files: [],\n      showBlank: false,\n      runScripts: true,\n      pane: 'result',\n      debounce: 250,\n      plugins: []\n    }))\n\n    // the render plugin is mandatory\n    options.plugins.push('render')\n\n    // use the scriptless plugin if runScripts is false\n    if (options.runScripts === false) {\n      options.plugins.push('scriptless')\n    }\n\n    // cached content for the change method.\n    this._set('cachedContent', {\n      html: null,\n      css: null,\n      js: null\n    })\n\n    // PubSoup\n    var pubsoup = this._set('pubsoup', new PubSoup())\n\n    this._set('trigger', this.trigger())\n    this._set('on', function () {\n      pubsoup.subscribe.apply(pubsoup, arguments)\n    })\n    this._set('off', function () {\n      pubsoup.unsubscribe.apply(pubsoup, arguments)\n    })\n    var done = this._set('done', function () {\n      pubsoup.done.apply(pubsoup, arguments)\n    })\n\n    // after all plugins run\n    // show errors\n    done('change', this.errors.bind(this))\n\n    // DOM\n    var $container = this._set('$container', $jottedContainer)\n    $container.innerHTML = template.container()\n    util.addClass($container, template.containerClass())\n\n    // default pane\n    var paneActive = this._set('paneActive', options.pane)\n    util.addClass($container, template.paneActiveClass(paneActive))\n\n    // status nodes\n    this._set('$status', {})\n\n    for (let type of [ 'html', 'css', 'js' ]) {\n      this.markup(type)\n    }\n\n    // textarea change events.\n    $container.addEventListener('keyup', util.debounce(this.change.bind(this), options.debounce))\n    $container.addEventListener('change', util.debounce(this.change.bind(this), options.debounce))\n\n    // pane change\n    $container.addEventListener('click', this.pane.bind(this))\n\n    // expose public properties\n    this.$container = this._get('$container')\n    this.on = this._get('on')\n    this.off = this._get('off')\n    this.done = this._get('done')\n    this.trigger = this._get('trigger')\n    this.paneActive = this._get('paneActive')\n\n    // init plugins\n    this._set('plugins', {})\n    plugin.init.call(this)\n\n    // load files\n    for (let type of [ 'html', 'css', 'js' ]) {\n      this.load(type)\n    }\n\n    // show all tabs, even if empty\n    if (options.showBlank) {\n      for (let type of [ 'html', 'css', 'js' ]) {\n        util.addClass($container, template.hasFileClass(type))\n      }\n    }\n  }\n\n  findFile (type) {\n    var file = {}\n    var options = this._get('options')\n\n    for (let fileIndex in options.files) {\n      let file = options.files[fileIndex]\n      if (file.type === type) {\n        return file\n      }\n    }\n\n    return file\n  }\n\n  markup (type) {\n    var $container = this._get('$container')\n    var $parent = $container.querySelector(`.jotted-pane-${type}`)\n    // create the markup for an editor\n    var file = this.findFile(type)\n\n    var $editor = document.createElement('div')\n    $editor.innerHTML = template.editorContent(type, file.url)\n    $editor.className = template.editorClass(type)\n\n    $parent.appendChild($editor)\n\n    // get the status node\n    this._get('$status')[type] = $parent.querySelector('.jotted-status')\n\n    // if we have a file for the current type\n    if (typeof file.url !== 'undefined' || typeof file.content !== 'undefined') {\n      // add the has-type class to the container\n      util.addClass($container, template.hasFileClass(type))\n    }\n  }\n\n  load (type) {\n    // create the markup for an editor\n    var file = this.findFile(type)\n    var $textarea = this._get('$container').querySelector(`.jotted-pane-${type} textarea`)\n\n    // file as string\n    if (typeof file.content !== 'undefined') {\n      this.setValue($textarea, file.content)\n    } else if (typeof file.url !== 'undefined') {\n      // show loading message\n      this.status('loading', [ template.statusLoading(file.url) ], {\n        type: type,\n        file: file\n      })\n\n      // file as url\n      util.fetch(file.url, (err, res) => {\n        if (err) {\n          // show load errors\n          this.status('error', [ template.statusFetchError(err) ], {\n            type: type\n          })\n\n          return\n        }\n\n        // clear the loading status\n        this.clearStatus('loading', {\n          type: type\n        })\n\n        this.setValue($textarea, res)\n      })\n    } else {\n      // trigger a change event on blank editors,\n      // for editor plugins to catch.\n      // (eg. the codemirror and ace plugins attach the change event\n      // only after the initial change/load event)\n      this.setValue($textarea, '')\n    }\n  }\n\n  setValue ($textarea, val) {\n    $textarea.value = val\n\n    // trigger change event, for initial render\n    this.change({\n      target: $textarea\n    })\n  }\n\n  change (e) {\n    var type = util.data(e.target, 'jotted-type')\n    if (!type) {\n      return\n    }\n\n    // don't trigger change if the content hasn't changed.\n    // eg. when blurring the textarea.\n    var cachedContent = this._get('cachedContent')\n    if (cachedContent[type] === e.target.value) {\n      return\n    }\n\n    // cache latest content\n    cachedContent[type] = e.target.value\n\n    // trigger the change event\n    this.trigger('change', {\n      type: type,\n      file: util.data(e.target, 'jotted-file'),\n      content: cachedContent[type]\n    })\n  }\n\n  errors (errs, params) {\n    this.status('error', errs, params)\n  }\n\n  pane (e) {\n    if (!util.data(e.target, 'jotted-type')) {\n      return\n    }\n\n    var $container = this._get('$container')\n    var paneActive = this._get('paneActive')\n    util.removeClass($container, template.paneActiveClass(paneActive))\n\n    paneActive = this._set('paneActive', util.data(e.target, 'jotted-type'))\n    util.addClass($container, template.paneActiveClass(paneActive))\n\n    e.preventDefault()\n  }\n\n  status (statusType = 'error', messages = [], params = {}) {\n    if (!messages.length) {\n      return this.clearStatus(statusType, params)\n    }\n\n    var $status = this._get('$status')\n\n    // add error/loading class to status\n    util.addClass($status[params.type], template.statusClass(statusType))\n\n    util.addClass(this._get('$container'), template.statusActiveClass(params.type))\n\n    var markup = ''\n    messages.forEach(function (err) {\n      markup += template.statusMessage(err)\n    })\n\n    $status[params.type].innerHTML = markup\n  }\n\n  clearStatus (statusType, params) {\n    var $status = this._get('$status')\n\n    util.removeClass($status[params.type], template.statusClass(statusType))\n    util.removeClass(this._get('$container'), template.statusActiveClass(params.type))\n    $status[params.type].innerHTML = ''\n  }\n\n  // debounced trigger method\n  // custom debouncer to use a different timer per type\n  trigger () {\n    var options = this._get('options')\n    var pubsoup = this._get('pubsoup')\n\n    // allow disabling the trigger debouncer.\n    // mostly for testing: when trigger events happen rapidly\n    // multiple events of the same type would be caught once.\n    if (options.debounce === false) {\n      return function () {\n        pubsoup.publish.apply(pubsoup, arguments)\n      }\n    }\n\n    // cooldown timer\n    var cooldown = {}\n    // multiple calls\n    var multiple = {}\n\n    return function (topic, { type = 'default' } = {}) {\n      if (cooldown[type]) {\n        // if we had multiple calls before the cooldown\n        multiple[type] = true\n      } else {\n        // trigger immediately once cooldown is over\n        pubsoup.publish.apply(pubsoup, arguments)\n      }\n\n      clearTimeout(cooldown[type])\n\n      // set cooldown timer\n      cooldown[type] = setTimeout(() => {\n        // if we had multiple calls before the cooldown,\n        // trigger the function again at the end.\n        if (multiple[type]) {\n          pubsoup.publish.apply(pubsoup, arguments)\n        }\n\n        multiple[type] = null\n        cooldown[type] = null\n      }, options.debounce)\n    }\n  }\n}\n\n// register plugins\nJotted.plugin = function () {\n  return plugin.register.apply(this, arguments)\n}\n\n// register bundled plugins\nimport BundlePlugins from './bundle-plugins.js'\nBundlePlugins(Jotted)\n\nexport default Jotted\n"],"names":["template.pluginClass","util.extend","util.data","util.getMode","template.container","template.containerClass","template.paneActiveClass","util.debounce","template.hasFileClass","template.editorContent","template.editorClass","template.statusLoading","template.statusFetchError","template.statusClass","template.statusActiveClass","template.statusMessage","plugin.register"],"mappings":"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"}